# state_bounds.py
from __future__ import annotations

from typing import Optional, Tuple, Dict

# Approximate geographic bounding boxes by state code (minLat/minLng/maxLat/maxLng).
# Source: EnforcedSpeed mobile STATE_BOUNDS (kept server-side as the single source of truth for autocomplete bias).
STATE_BOUNDS: Dict[str, Tuple[float, float, float, float]] = {
    'AK': (51.214183, -179.148909, 71.365162, -129.9795),
    'AL': (30.223334, -88.473227, 35.008028, -84.888246),
    'AR': (33.004106, -94.617919, 36.4996, -89.644395),
    'AZ': (31.332177, -114.81651, 37.00426, -109.045223),
    'CA': (32.5121, -124.6509, 42.0126, -114.1315),
    'CO': (36.9924, -109.0603, 41.0034, -102.0416),
    'CT': (40.9801, -73.7278, 42.0506, -71.78699),
    'DC': (38.7916, -77.1198, 38.9955, -76.9094),
    'DE': (38.451, -75.789, 39.8395, -75.0489),
    'FL': (24.396308, -87.634938, 31.000888, -80.031362),
    'GA': (30.3579, -85.6052, 35.0007, -80.8397),
    'HI': (18.8655, -178.3347, 28.5173, -154.8068),
    'IA': (40.3754, -96.6397, 43.5012, -90.1401),
    'ID': (41.988, -117.243, 49.0011, -111.0436),
    'IL': (36.9703, -91.5131, 42.5085, -87.0199),
    'IN': (37.7717, -88.0979, 41.7606, -84.7846),
    'KS': (36.993, -102.0517, 40.0032, -94.5884),
    'KY': (36.4971, -89.5715, 39.1475, -81.9649),
    'LA': (28.9286, -94.0431, 33.0195, -88.817),
    'MA': (41.2379, -73.5081, 42.8868, -69.9284),
    'MD': (37.9117, -79.4877, 39.723, -75.0489),
    'ME': (42.9778, -71.0839, 47.4597, -66.9499),
    'MI': (41.6961, -90.4181, 48.3061, -82.4135),
    'MN': (43.4994, -97.2392, 49.3844, -89.4917),
    'MO': (35.9957, -95.7747, 40.6136, -89.0988),
    'MS': (30.1739, -91.655, 34.9961, -88.0979),
    'MT': (44.3582, -116.05, 49.0011, -104.0396),
    'NC': (33.8423, -84.3219, 36.5881, -75.4606),
    'ND': (45.9351, -104.0489, 49.0007, -96.5545),
    'NE': (39.9999, -104.0535, 43.0017, -95.3083),
    'NH': (42.69699, -72.5572, 45.3055, -70.6106),
    'NJ': (38.9285, -75.5598, 41.3574, -73.8939),
    'NM': (31.3323, -109.0502, 37.0002, -103.0019),
    'NV': (35.0019, -120.0057, 42.0022, -114.0396),
    'NY': (40.4961, -79.7624, 45.0153, -71.8562),
    'OH': (38.4032, -84.8203, 41.9775, -80.5187),
    'OK': (33.6158, -103.0026, 37.0022, -94.4307),
    'OR': (41.9918, -124.7035, 46.2991, -116.4635),
    'PA': (39.7198, -80.5199, 42.2699, -74.6895),
    'RI': (41.1463, -71.8628, 42.0188, -71.1206),
    'SC': (32.0333, -83.3539, 35.2155, -78.542),
    'SD': (42.4796, -104.0577, 45.9455, -96.4366),
    'TN': (34.9829, -90.3103, 36.6781, -81.6469),
    'TX': (25.8371, -106.6456, 36.5007, -93.508),
    'UT': (36.9979, -114.0529, 42.0016, -109.0411),
    'VA': (36.5407, -83.6753, 39.466, -75.2423),
    'VT': (42.7303, -73.4377, 45.0167, -71.4646),
    'WA': (45.5435, -124.8489, 49.0025, -116.9161),
    'WI': (42.4919, -92.8894, 47.3025, -86.8054),
    'WV': (37.2015, -82.6447, 40.6388, -77.7195),
    'WY': (40.9947, -111.0569, 45.0059, -104.0522),
}


def get_bounds_for_state(code: str) -> Optional[Tuple[float, float, float, float]]:
    abbr = (code or '').strip().upper()
    if not abbr:
        return None
    return STATE_BOUNDS.get(abbr)
