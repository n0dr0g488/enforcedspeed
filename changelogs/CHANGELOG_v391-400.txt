CHANGELOG v391–400

v391 (2026-02-18)
- Fix Render crash: remove duplicate Flask route registration for /api/state_geom/<stusps> (endpoint name collision).

[v392] Map page polish
- Add bottom breathing room so map card border isn’t flush with viewport
- Remove left filter rail inner scrollbar (match Home rail)
- Allow scroll-wheel zoom without CTRL on interactive map (gestureHandling=greedy)
- Right panel stats header shows selected county/state (or prompt when none); remove helper text

[v393] Map page selection + rail overflow fix
- Treat focus_county_geoid navigation the same as county_geoid filter so the right panel title matches the outlined county (not just the state).
- Ensure the left filter rail does not show its own scrollbar by overriding the outer left-rail container overflow.

[v394] Map page left rail + spacing (attempt)
- Make Map page left filter panel include footer links/meta like Home and reduce scroll behavior.
- Add additional bottom breathing room so the map container border isn’t flush with the viewport.

[v395] Fix Map page Cookie Policy footer link
- Fix footer link endpoint to use url_for('cookies') to prevent /map 500.

[v396] Map page viewport lock + symmetric buffer (attempt)
- Lock Map page to viewport and reduce unwanted scrolling; aim for symmetric map container spacing.

[v397] Map page left rail parity + symmetric map buffer
- Left rail now matches Home: footer links/meta always visible; filter content can scroll if needed but scrollbar is hidden.
- Map container now has symmetric outer buffer (top/bottom) so the bottom border is clearly visible.

[v398] Full-height rails on Home/Stats + Map bottom buffer fix
- Home + Statistics: left filter rail now extends flush to the bottom of the viewport (matches Map page look).
  - Rail is a full-height flex column with a hidden-scrollbar scroll area and the footer links pinned to the bottom.
- Map page: convert to in-flow 3-column flex layout inside a padded viewport-locked shell (no fixed side rails on Map page).
  - Guarantees symmetric top/bottom outer padding so the map card bottom border is no longer flush/clipped.

[v399] Rails full-height + Map rail alignment fix
- Home + Statistics: make pinned left/right rails explicitly 100vh-based so the filter rail background truly fills to the bottom of the viewport ("infinite" feel) and footer links stay pinned.
- Map page: remove outer shell padding (rails flush to left/top/bottom again) while keeping symmetric top/bottom buffer around the map card via center-column vertical padding.

[v400] Map page state stats + Clear button weight
- Map page right stats card now matches the selected scope (county vs state). State selection no longer falls back to the selected ticket’s county stats.
- State title shows full name (e.g., Virginia (VA)) instead of just the abbreviation.
- When arriving via focus_state navigation, treat focus_state as an implicit state filter so "Pins shown" matches the state.
- Clear button text weight reduced to match other buttons.
